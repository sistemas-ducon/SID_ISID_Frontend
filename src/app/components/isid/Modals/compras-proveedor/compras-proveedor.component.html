<p-dialog
  header="Proveedores"
  [(visible)]="showDialog"
  [modal]="true"
  [closable]="true"
  (onHide)="cerrar()"
  [style]="{ width: '50vw' }"
>

  <!-- Espacio para tabla -->
  <p-table 
  [value]="proveedoresFiltrados" 
  [(selection)]="proveedorSeleccionado"
  (onRowSelect)="cargarFormulario($event.data)"
  styleClass="p-datatable-gridlines"
  [tableStyle]="{ 'width': '100%' }"
  [scrollable]="true"
  selectionMode="single"
  dataKey="id_Proveedor">

  <ng-template pTemplate="header">
    <tr>
      <th>Proveedor</th>
      <th>Compa√±√≠a</th>
      <th>Contacto</th>
      <th>Email</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-proveedor>
    <tr 
      [pSelectableRow]="proveedor"
      (dblclick)="enviarProveedor({ data: proveedor })"> <!-- üëà doble clic nativo -->
      <td>{{ proveedor.id_Proveedor }}</td>
      <td>{{ proveedor.nombreCompania }}</td>
      <td>{{ proveedor.nombreContacto }}</td>
      <td>{{ proveedor.correo_Electronico }}</td>
    </tr>
  </ng-template>
  
</p-table>



 

<form [formGroup]="formulario">
  <div class="row g-3 mb-4 text-center mt-4">
    <div class="col-6 col-lg">
      <p-floatLabel>
        <input id="username1" type="text" pInputText class="w-100 form-control-sm" formControlName="nit"/>
        <label for="username1">Nit</label>
      </p-floatLabel>
    </div>
  
    <div class="col-6 col-lg">
      <p-floatLabel>
        <input id="username2" type="text" pInputText class="w-100 form-control-sm" formControlName="proveedor"/>
        <label for="username2">Proveedor</label>
      </p-floatLabel>
    </div>
  
    <div class="col-6 col-lg">
      <p-floatLabel>
        <input id="username5" type="text" pInputText class="w-100 form-control-sm" formControlName="mail"/>
        <label for="username5">Mail</label>
      </p-floatLabel>
    </div>
  
    <div class="col-6 col-lg">
      <p-floatLabel>
        <input id="username4" type="text" pInputText class="w-100 form-control-sm" formControlName="telefono"/>
        <label for="username4">Tel√©fono</label>
      </p-floatLabel>
    </div>
  
    <div class="col-6 col-lg">
      <p-floatLabel>
        <input id="username3" type="text" pInputText class="w-100 form-control-sm" formControlName="contacto"/>
        <label for="username3">Contacto</label>
      </p-floatLabel>
    </div>
  </div>
  </form>
  
  

  <!-- Segunda fila de 5 columnas -->
  <div class="row text-center">
    <div class="col-6 col-md-6">
        <p-floatLabel>
            <input id="filtroProveedor" type="text" pInputText class="w-100 form-control-sm" [(ngModel)]="filtroTexto" (ngModelChange)="filtrarProveedores()"/>
            <label for="username">Buscar</label>
        </p-floatLabel>
    </div>
    
    <div class="col-12 col-md-6">
        <div class="d-flex flex-wrap justify-content-center gap-2">
          <p-button label="Nuevo" class="custom-btn btn-danger"  [rounded]="true" [text]="true" [raised]="true" (onClick)="activarFormulario()"></p-button>
          <p-button label="Modificar" class="custom-btn btn-danger"  [rounded]="true" [text]="true" [raised]="true" (onClick)="modificarFormulario(proveedorSeleccionado)"></p-button>
          <p-button label="Grabar" class="custom-btn btn-danger" [rounded]="true" [text]="true" [raised]="true" (onClick)="guardarProveedor()"></p-button>
          <p-button label="Cancelar" class="custom-btn btn-danger"  [rounded]="true" [text]="true" [raised]="true" (onClick)="deshabilitarFormulario()"></p-button>
          <p-button label="Eliminar" class="custom-btn btn-danger"  [rounded]="true" [text]="true" [raised]="true"></p-button>
        </div>
      </div>
  </div>
</p-dialog>
